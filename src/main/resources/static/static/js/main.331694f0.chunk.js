(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,n){e.exports={navBar:"Nav_navBar__36UZ-",linkContainer:"Nav_linkContainer__1s9fF",navLinks:"Nav_navLinks__3lV-1",logoContainer:"Nav_logoContainer__32CPd",logo:"Nav_logo__2mKNX"}},26:function(e,t,n){e.exports={layoutContainer:"Layout_layoutContainer__2kHhw"}},36:function(e,t,n){},37:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(0),a=n.n(o),c=n(16),r=n.n(c),s=n(13),l=(n(36),n(37),n(26)),d=n.n(l),h=n(11),u=n.n(h),j=n.p+"static/media/Logo.a6c1a369.png";var p=function(){return Object(i.jsxs)("div",{className:u.a.navBar,children:[Object(i.jsx)("div",{className:u.a.logoContainer,children:Object(i.jsx)("img",{src:j,className:u.a.logo})}),Object(i.jsxs)("div",{className:u.a.linkContainer,children:[Object(i.jsx)(s.b,{className:u.a.navLinks,to:"/",children:"[ Home ]"}),Object(i.jsx)(s.b,{className:u.a.navLinks,to:"/projects",children:"[ About ]"})]})]})},g=n(2),b=n(12),v=n(14),f=n(30),w=n(7),m=n.n(w),O=n(22),x=n.n(O),_=n(29);var y={audio:!1,video:{facingMode:"environment"}};var C=function(){var e,t=Object(o.useState)({size:{width:.3*window.innerWidth,height:.15*window.innerHeight},position:{x:window.innerWidth/2-.3*window.innerWidth/2,y:window.innerHeight/2-.15*window.innerHeight/2}}),n=Object(v.a)(t,2),a=n[0],c=n[1],r=Object(o.useState)(""),s=Object(v.a)(r,2),l=s[0],d=s[1],h=Object(o.useState)(),u=Object(v.a)(h,2),j=u[0],p=u[1],g=Object(o.useRef)(null),w=function(e){var t=Object(o.useState)(null),n=Object(v.a)(t,2),i=n[0],a=n[1];return Object(o.useEffect)((function(){function t(){return(t=Object(_.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia(e);case 3:n=t.sent,a(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}if(i)return function(){i.getTracks().forEach((function(e){e.stop()}))};!function(){t.apply(this,arguments)}()}),[i,e]),i}(y);return w&&g.current&&!g.current.srcObject&&(g.current.srcObject=w),e=l.length>0?Object(i.jsxs)("div",{className:m.a.popUp,children:[Object(i.jsx)("p",{children:l}),Object(i.jsx)("button",{onClick:function(){d("")},children:"Dismiss"})]}):null,Object(i.jsxs)("div",{className:m.a.outer,children:[Object(i.jsx)(f.a,{className:m.a.cropTool,size:a.size,position:a.position,onDragStop:function(e,t){c((function(e){return t.x+a.size.width<window.innerWidth&&t.y+a.size.height<window.innerHeight&&t.y>0&&t.x>0?Object(b.a)(Object(b.a)({},e),{},{position:{x:t.x,y:t.y}}):Object(b.a)({},e)}))},onResizeStop:function(e,t,n,i,o){c((function(e){var t=parseFloat(n.style.width.substring(0,n.style.width.length-2)),i=parseFloat(n.style.height.substring(0,n.style.height.length-2));return o.x+t<window.innerWidth&&o.y+i<window.innerHeight&&o.x>0&&o.y>0?{size:{width:t,height:i},position:Object(b.a)({},o)}:Object(b.a)({},e)}))}}),Object(i.jsxs)("div",{className:m.a.homeContainer,children:[e,Object(i.jsx)("video",{ref:g,className:m.a.video,onCanPlay:function(){g.current.play()},autoPlay:!0,playsInline:!0,muted:!0}),Object(i.jsxs)("div",{className:m.a.controls,children:[Object(i.jsx)("button",{onClick:function(){if("string"==typeof a.size.width){var e={position:Object(b.a)({},a.position),size:{width:a.size.width.substring(0,a.size.width.length-2),height:a.size.height.substring(0,a.size.height.length-2)}};c(e)}console.log(g.current.videoWidth,g.current.videoHeight),console.log(g.current.getBoundingClientRect()),console.log(window.innerWidth,window.innerHeight);var t=document.createElement("canvas");t.width=g.current.videoWidth,t.height=g.current.videoHeight;var n=g.current.getBoundingClientRect(),i=(n.width-window.innerWidth)/2,o=t.width*((a.position.x+i)/n.width),r=t.height*(a.position.y/window.innerHeight),s=t.width*(a.size.width/n.width),l=t.height*(a.size.height/window.innerHeight);t.getContext("2d").drawImage(g.current,o,r,s,l,0,0,s,l),t=function(e,t,n,i,o){var a=document.createElement("canvas");return a.width=i,a.height=o,a.getContext("2d").drawImage(e,t,n,i,o,0,0,i,o),a}(t,0,0,s,l),console.log(t.toDataURL("img/png")),p(t.toDataURL("img/png"))},className:m.a.captureBtn}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"fileUpload",className:m.a.fileUploadBtn,children:"[ Browse ]"}),Object(i.jsx)("input",{id:"fileUpload",type:"file",onChange:function(e){var t;(t=e.target.files[0],new Promise((function(e,n){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)},i.onerror=function(e){return n(e)}}))).then((function(e){p(e)})).catch((function(e){return Error(e)}))}}),Object(i.jsx)("span",{onClick:function(){fetch("/api/v1/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:j}).then((function(e){return e.json()})).then((function(e){console.log(e),d(e.text)})).catch((function(e){console.log(e),d("Offline")}))},className:m.a.uploadBtn,children:"[ Upload ]"})]})]})]})]})};var N=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"About"})})};var H=function(){return Object(i.jsxs)(g.c,{children:[Object(i.jsx)(g.a,{path:"/",component:C,exact:!0}),Object(i.jsx)(g.a,{path:"/about",component:N,exact:!0})]})};var z=function(){return Object(i.jsxs)("div",{className:d.a.layoutContainer,children:[Object(i.jsx)(p,{}),Object(i.jsx)(H,{})]})};var B=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(z,{})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),a(e),c(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(s.a,{children:Object(i.jsx)(B,{})})}),document.getElementById("root")),k()},7:function(e,t,n){e.exports={homeContainer:"Home_homeContainer__RSXdU",outer:"Home_outer__h3vQ2",cropTool:"Home_cropTool__2ga3K",video:"Home_video__gbnFX",canvas:"Home_canvas__2pzzp",controls:"Home_controls__33h60",captureBtn:"Home_captureBtn__vXbSD",fileUploadBtn:"Home_fileUploadBtn__Z6EsG",uploadBtn:"Home_uploadBtn__ObQiv",popUp:"Home_popUp__19Q1p"}}},[[48,1,2]]]);
//# sourceMappingURL=main.331694f0.chunk.js.map