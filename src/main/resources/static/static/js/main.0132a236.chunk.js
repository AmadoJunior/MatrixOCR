(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(t,e,n){t.exports={layoutContainer:"Layout_layoutContainer__2kHhw"}},151:function(t,e,n){},152:function(t,e,n){},19:function(t,e,n){t.exports={outerContainer:"Nav_outerContainer__2goGU",navBar:"Nav_navBar__36UZ-",linkContainer:"Nav_linkContainer__1s9fF",navLinks:"Nav_navLinks__3lV-1",topBar:"Nav_topBar__2hXqO",logo:"Nav_logo__2mKNX",arrow:"Nav_arrow__vUGtI",menuBtn:"Nav_menuBtn__lRe3B",shown:"Nav_shown__31KHX",hidden:"Nav_hidden__3ukuu"}},23:function(t,e,n){t.exports={homeContainer:"Home_homeContainer__RSXdU",outer:"Home_outer__h3vQ2",cropTool:"Home_cropTool__2ga3K",video:"Home_video__gbnFX",canvas:"Home_canvas__2pzzp",controls:"Home_controls__33h60",cropBtn:"Home_cropBtn__k1RTP",uploadBtn:"Home_uploadBtn__ObQiv",captureBtn:"Home_captureBtn__vXbSD",popUp:"Home_popUp__19Q1p",hidePopUp:"Home_hidePopUp__1raIU",dismissBtn:"Home_dismissBtn__24SPy"}},456:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n(1),o=n.n(a),c=n(15),s=n.n(c),r=n(41),l=(n(151),n(152),n(140)),u=n.n(l),d=n(4),h=n(37),p=n(16),g=n(146),j=n(23),b=n.n(j),v=n(86),m=n.n(v),f=n(142);var _=n(19),O=n.n(_),w=n.p+"static/media/Logo.51a11abb.svg",x=n.p+"static/media/Back.c5b7553a.svg",y=n.p+"static/media/Burger.a1c872b7.svg";var C=function(){var t,e=Object(a.useState)(!1),n=Object(p.a)(e,2),o=n[0],c=n[1],s=function(){c(!o)};return t=o?O.a.shown:O.a.hidden,Object(i.jsxs)("div",{className:"".concat(O.a.outerContainer),style:o?null:{backgroundColor:"transparent",width:0},children:[Object(i.jsx)("img",{src:y,className:"".concat(O.a.menuBtn," myHighlight"),onClick:function(){return s()},style:o?{opacity:0,zIndex:90,visibility:"hidden"}:null}),Object(i.jsxs)("div",{className:"".concat(O.a.navBar),style:o?null:{width:0},children:[Object(i.jsxs)("div",{className:"".concat(O.a.topBar," ").concat(t),children:[Object(i.jsx)("img",{src:w,className:O.a.logo}),Object(i.jsx)("img",{src:x,className:"".concat(O.a.arrow," myHighlight"),onClick:function(){return s()}})]}),Object(i.jsxs)("div",{className:"".concat(O.a.linkContainer," ").concat(t),children:[Object(i.jsx)(r.b,{className:"".concat(O.a.navLinks," myHighlight"),to:"/",activeStyle:{backgroundColor:"#3d3d3dc0"},exact:!0,children:"OCR"}),Object(i.jsx)(r.b,{className:"".concat(O.a.navLinks," myHighlight"),to:"/about",activeStyle:{backgroundColor:"#3d3d3dc0"},exact:!0,children:"About"})]})]})]})},N=n.p+"static/media/Camera.9e4dfe6e.svg",H=n.p+"static/media/Crop.1c15a4de.svg",B=n.p+"static/media/Upload.ae110f01.svg",k=(n.p,{audio:!1,video:{facingMode:"environment"}});var S=function(t){var e=Object(a.useState)(!1),n=Object(p.a)(e,2),o=n[0],c=n[1],s=Object(a.useState)(!0),r=Object(p.a)(s,2),l=r[0],u=r[1],d=Object(a.useState)({size:{width:.3*window.innerWidth,height:.15*window.innerHeight},position:{x:window.innerWidth/2-.3*window.innerWidth/2,y:window.innerHeight/2-.15*window.innerHeight/2}}),j=Object(p.a)(d,2),v=j[0],_=j[1],O=Object(a.useState)(""),w=Object(p.a)(O,2),x=w[0],y=w[1],S=Object(a.useRef)(null),z=function(t){var e=Object(a.useState)(null),n=Object(p.a)(e,2),i=n[0],o=n[1];return Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:n=e.sent,o(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}if(i)return function(){i.getTracks().forEach((function(t){t.stop()}))};!function(){e.apply(this,arguments)}()}),[i,t]),i}(k);z&&S.current&&!S.current.srcObject&&(S.current.srcObject=z);var U=function(t){fetch("/api/v1/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(t){return t.json()})).then((function(t){console.log(t),c(!0),y(t.text)})).catch((function(t){console.log(t),y("Offline")}))};return Object(i.jsxs)("div",{className:b.a.outer,children:[Object(i.jsx)(g.a,{style:l?null:{opacity:0,visibility:"hidden"},className:b.a.cropTool,size:v.size,position:v.position,onDragStop:function(t,e){_((function(t){return e.x+v.size.width<window.innerWidth&&e.y+v.size.height<window.innerHeight&&e.y>0&&e.x>0?Object(h.a)(Object(h.a)({},t),{},{position:{x:e.x,y:e.y}}):Object(h.a)({},t)}))},onResizeStop:function(t,e,n,i,a){_((function(t){var e=parseFloat(n.style.width.substring(0,n.style.width.length-2)),i=parseFloat(n.style.height.substring(0,n.style.height.length-2));return a.x+e<window.innerWidth&&a.y+i<window.innerHeight&&a.x>0&&a.y>0?{size:{width:e,height:i},position:Object(h.a)({},a)}:Object(h.a)({},t)}))}}),Object(i.jsxs)("div",{className:b.a.homeContainer,children:[Object(i.jsx)(C,{}),Object(i.jsxs)("div",{className:b.a.popUp,style:o?null:{opacity:0,visibility:"hidden"},children:[Object(i.jsx)("p",{children:x}),Object(i.jsx)("span",{className:"".concat(b.a.dismissBtn," noHighlights"),onClick:function(){c(!1),setTimeout((function(){y("")}),500)},children:"Dismiss"})]}),Object(i.jsx)("video",{ref:S,className:b.a.video,onCanPlay:function(){S.current.play()},autoPlay:!0,playsInline:!0,muted:!0}),Object(i.jsxs)("div",{className:b.a.controls,children:[Object(i.jsx)("input",{type:"file",id:"fileUpload",onChange:function(t){var e;(e=t.target.files[0],new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(t){return n(t)}}))).then((function(t){U(t)})).catch((function(t){return Error(t)}))}}),Object(i.jsx)("img",{src:H,className:"".concat(b.a.cropBtn," noHighlights"),onClick:function(){u(!l)}}),Object(i.jsx)("img",{src:N,className:"".concat(b.a.captureBtn," myHighlight"),onClick:function(){var t=document.createElement("canvas");if(t.width=S.current.videoWidth,t.height=S.current.videoHeight,l){if("string"==typeof v.size.width){var e={position:Object(h.a)({},v.position),size:{width:v.size.width.substring(0,v.size.width.length-2),height:v.size.height.substring(0,v.size.height.length-2)}};_(e)}var n=S.current.getBoundingClientRect(),i=(n.width-window.innerWidth)/2,a=t.width*((v.position.x+i)/n.width),o=t.height*(v.position.y/window.innerHeight),c=t.width*(v.size.width/n.width),s=t.height*(v.size.height/window.innerHeight);t.getContext("2d").drawImage(S.current,a,o,c,s,0,0,c,s),t=function(t,e,n,i,a){var o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,e,n,i,a,0,0,i,a),o}(t,0,0,c,s),U(t.toDataURL("img/png"))}else t.getContext("2d").drawImage(S.current,0,0),U(t.toDataURL("img/png"))}}),Object(i.jsx)("label",{htmlFor:"fileUpload",className:"noHighlights",children:Object(i.jsx)("img",{src:B,className:"".concat(b.a.uploadBtn," noHighlights")})})]})]})]})},z=n(89),U=n.n(z);n(161);var R=function(){var t=Object(a.useState)(!1),e=Object(p.a)(t,2),n=e[0],o=e[1],c=Object(a.useState)(null),s=Object(p.a)(c,2),r=s[0],l=s[1];Object(a.useEffect)((function(){var t=function(t){t.preventDefault(),console.log("Handler being triggered."),o(!0),l(t)};return window.addEventListener("beforeinstallprompt",t),function(){return window.removeEventListener("transitionend",t)}}),[]);var u=null;return n&&(u=Object(i.jsx)("span",{className:U.a.installBtn,onClick:function(t){t.preventDefault(),r&&r.prompt()},children:"Install"})),Object(i.jsxs)("div",{className:U.a.aboutContainer,children:[Object(i.jsx)(C,{}),Object(i.jsx)("p",{children:"Optical Character Recognition PWA(Progressive Web Application). Built Using SpringBoot, TesseractOCR(Tess4J) and React."}),u]})};var T=function(t){return Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{path:"/",component:S,exact:!0}),Object(i.jsx)(d.a,{path:"/about",component:R,exact:!0})]})};var L=function(){return Object(i.jsx)("div",{className:u.a.layoutContainer,children:Object(i.jsx)(T,{})})};var P=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(L,{})})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,457)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),i(t),a(t),o(t),c(t)}))};s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(r.a,{children:Object(i.jsx)(P,{})})}),document.getElementById("root")),I()},89:function(t,e,n){t.exports={aboutContainer:"About_aboutContainer__-IT84",installBtn:"About_installBtn__5QTZH"}}},[[456,1,2]]]);
//# sourceMappingURL=main.0132a236.chunk.js.map